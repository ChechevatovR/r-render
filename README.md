# 3D рендерер на основе трассировки лучей

В данном репозитории находится программа, написанная мной летом 2018 года - в возрасте 14 лет.
В тот момент я написал работающий прототип, а потом решил начать его улучшение и структуризацию - 
разбить все на классы, а их разложить в отдельные файлы.
Однако, дальше создания файлов дело ушло недалеко, и проект был оставлен мой в неработающем состоянии: даже не комплировался.

Сейчас я постарался, внося минимальные изменения в текст программы, вернуть ее к работоспособному состоянию.

Качество кода не на высоте, я это вижу, и как уже сказал, видел тогда. 
Но исправить руки доходят только сейчас, но тем не менее я оставлю код в состоянии максимально близком, к исходному.

## Принцип работы

Программа переводит сцену, записанную в файл исходного кода, в изображение.
__Сцена__ - виртуальный мир и все объекты в нем находящиеся.
На сцене расположены источники света, для которых известен тип (точечный, Солнце) и расположение или направление.
Кроме того, на сцене есть несколько сфер, которые описываются расположением, и материалом.
Материал описывает взаимодействие объекта со светом.
На полученном изображении это - цвет, зеркальность, острота бликов.

Изображение формируется методом трассировки лучей - для каждого пикселя из виртуальной камеры выпускается луч.
Далее вычисляется объект, в который луч попадает, и расчет цвета этого объекта в месте пересечения с лучом.
Здесь рассчитываются тени, блики и цвет.
Кроме того, возможно и отражение - тогда выпускается новый луч в необходимом направлении, а потом полученные цвета смешиваются.

## Необходимые улучшения

* Чтение сцены из файла
* Реструктуризация кода
* Аккуратная работа с памятью и исключениями
* Обобщение алгоритма вычисления цвета
* Сглаживание, мультисемплиинг
* Честный расчет отраженного света
* Поддержка иных геометрических примитивов (в том числе треугольников)
* Многопоточное вычисление

## Источники информации

При разработке я опирался на статью [https://habr.com/ru/post/342510/](habr.com/ru/post/342510)
